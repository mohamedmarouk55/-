@echo off
chcp 65001 > nul
title ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู - RASHID INDUSTRIAL CO.

color 0B
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ุงููุชุนุฏุฏ ุงูุดุงุดุงุช                โ
echo โ                    RASHID INDUSTRIAL CO.                    โ
echo โ                                                              โ
echo โ  ๐ ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ    ๐ฐ ุงูุฎุฒููุฉ        ๐ ุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช    โ
echo โ  ๐ฅ ุฅุฏุฎุงู ุงูููุธููู     ๐ธ ุงููุตุฑููุงุช      ๐ ุงูุชูุงุฑูุฑ         โ
echo โ  โ๏ธ  ุงูุฅุนุฏุงุฏุงุช         ๐ ูุธุงู ุงูุฃูุงู     ๐ฑ ุชุตููู ูุชุฌุงูุจ     โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

cd /d "%~dp0"

echo ๐ ุงูุจุญุซ ุนู Python...

REM ูุญุงููุฉ py ุฃููุงู (ุงูุฃูุซุฑ ุดููุนุงู ูู Windows)
py --version >nul 2>&1
if not errorlevel 1 (
    echo โ ุชู ุงูุนุซูุฑ ุนูู Python ุนุจุฑ 'py'
    set PYTHON_CMD=py
    goto :found_python
)

REM ูุญุงููุฉ python
python --version >nul 2>&1
if not errorlevel 1 (
    echo โ ุชู ุงูุนุซูุฑ ุนูู Python ุนุจุฑ 'python'
    set PYTHON_CMD=python
    goto :found_python
)

REM ูุญุงููุฉ python3
python3 --version >nul 2>&1
if not errorlevel 1 (
    echo โ ุชู ุงูุนุซูุฑ ุนูู Python ุนุจุฑ 'python3'
    set PYTHON_CMD=python3
    goto :found_python
)

REM ูู ูุชู ุงูุนุซูุฑ ุนูู Python
echo โ ูู ูุชู ุงูุนุซูุฑ ุนูู Python!
echo.
echo ๐ฅ ูุฑุฌู ุชุซุจูุช Python ุฃููุงู:
echo    1. ุงุฐูุจ ุฅูู: https://python.org
echo    2. ุญูู ุฃุญุฏุซ ุฅุตุฏุงุฑ Python
echo    3. ุชุฃูุฏ ูู ุชุญุฏูุฏ "Add Python to PATH"
echo.
echo ๐ช ุฃู ูู Microsoft Store:
echo    1. ุงูุชุญ Microsoft Store
echo    2. ุงุจุญุซ ุนู "Python"
echo    3. ุซุจุช Python 3.11 ุฃู ุฃุญุฏุซ
echo.
echo ๐ ุซู ุดุบู ูุฐุง ุงูููู ูุฑุฉ ุฃุฎุฑู
pause
exit /b 1

:found_python
for /f "tokens=2" %%i in ('%PYTHON_CMD% --version 2^>^&1') do set PYTHON_VERSION=%%i
echo    ุงูุฅุตุฏุงุฑ: %PYTHON_VERSION%
echo.

echo ๐ฆ ุชุซุจูุช Flask...
%PYTHON_CMD% -m pip install flask --quiet --disable-pip-version-check --user
if errorlevel 1 (
    echo โ๏ธ  ุชุญุฐูุฑ: ูุดููุฉ ูู ุชุซุจูุช Flask
    echo ๐ก ุฌุงุฑู ุงููุญุงููุฉ ุจุทุฑููุฉ ุฃุฎุฑู...
    %PYTHON_CMD% -m pip install flask --user
)

echo โ ุชู ุชุญุถูุฑ ุงููุชุทูุจุงุช
echo.

echo ๐๏ธ  ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช...
%PYTHON_CMD% -c "import sqlite3; conn = sqlite3.connect('management_system.db'); conn.close(); print('โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ')"

echo.
echo ๐ ุจุฏุก ุชุดุบูู ุงููุธุงู...
echo.

REM ุนุฑุถ ูุนูููุงุช ุงูุชุดุบูู
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                        ๐ ุงููุธุงู ูุนูู ุงูุขู                        โ
echo โ                                                              โ
echo โ  ๐ ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:                                   โ
echo โ     http://localhost:5000                                    โ
echo โ     ุฃู http://127.0.0.1:5000                                โ
echo โ                                                              โ
echo โ  ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู:                                      โ
echo โ     ๐ค ุงุณู ุงููุณุชุฎุฏู: admin                                   โ
echo โ     ๐ง ุฃู ุงูุจุฑูุฏ: admin@rashid.com                          โ
echo โ     ๐ ูููุฉ ุงููุฑูุฑ: admin123                                 โ
echo โ                                                              โ
echo โ  ๐ ุงูุดุงุดุงุช ุงููุชุงุญุฉ:                                          โ
echo โ     ๐ ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ  ๐ฐ ุงูุฎุฒููุฉ  ๐ ุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช       โ
echo โ     ๐ฅ ุงูููุธููู  ๐ธ ุงููุตุฑููุงุช  ๐ ุงูุชูุงุฑูุฑ  โ๏ธ ุงูุฅุนุฏุงุฏุงุช    โ
echo โ                                                              โ
echo โ  โ๏ธ  ูุฅููุงู ุงููุธุงู: ุงุถุบุท Ctrl+C ุฃู ุฃุบูู ูุฐู ุงููุงูุฐุฉ          โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

REM ุจุฏุก ุชุดุบูู ุงูุชุทุจูู ูู ุงูุฎูููุฉ ููุชุญ ุงููุชุตูุญ
echo ๐ ุณูุชู ูุชุญ ุงููุชุตูุญ ุชููุงุฆูุงู ุฎูุงู 5 ุซูุงู...

REM ุชุดุบูู ุงูุชุทุจูู ูู ุงูุฎูููุฉ
start /B %PYTHON_CMD% app.py

REM ุงูุชุธุงุฑ 5 ุซูุงู ุซู ูุชุญ ุงููุชุตูุญ
timeout /t 5 /nobreak >nul
start http://localhost:5000

REM ุงูุชุธุงุฑ ุฅููุงู ุงูุชุทุจูู
echo.
echo ๐ ุชู ูุชุญ ุงููุชุตูุญ! ุฅุฐุง ูู ููุชุญ ุชููุงุฆูุงูุ ุงุฐูุจ ุฅูู: http://localhost:5000
echo.
echo โ๏ธ  ูุฅููุงู ุงููุธุงู: ุงุถุบุท Ctrl+C
echo.

REM ุงูุชุธุงุฑ ุฅููุงุก ุงูุนูููุฉ
:wait_loop
timeout /t 1 /nobreak >nul
goto wait_loop

REM ุฑุณุงูุฉ ุงูุฅุบูุงู
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                       ุชู ุฅููุงู ุงููุธุงู                          โ
echo โ                                                              โ
echo โ  ุดูุฑุงู ูุงุณุชุฎุฏุงู ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ุงููุชุนุฏุฏ ุงูุดุงุดุงุช              โ
echo โ                RASHID INDUSTRIAL CO.                        โ
echo โ                                                              โ
echo โ  ๐ก ูุชุดุบูู ุงููุธุงู ูุฑุฉ ุฃุฎุฑูุ ุดุบู ูุฐุง ุงูููู                     โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
pause