@echo off
chcp 65001 > nul
title ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ุงููุชุนุฏุฏ ุงูุดุงุดุงุช - RASHID INDUSTRIAL CO.

color 0A
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ุงููุชุนุฏุฏ ุงูุดุงุดุงุช                โ
echo โ                    RASHID INDUSTRIAL CO.                    โ
echo โ                                                              โ
echo โ  ๐ ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ    ๐ฐ ุงูุฎุฒููุฉ        ๐ ุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช    โ
echo โ  ๐ฅ ุฅุฏุฎุงู ุงูููุธููู     ๐ธ ุงููุตุฑููุงุช      ๐ ุงูุชูุงุฑูุฑ         โ
echo โ  โ๏ธ  ุงูุฅุนุฏุงุฏุงุช         ๐ ูุธุงู ุงูุฃูุงู     ๐ฑ ุชุตููู ูุชุฌุงูุจ     โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

cd /d "%~dp0"

echo [1/5] ูุญุต Python...
python --version >nul 2>&1
if errorlevel 1 (
    echo โ Python ุบูุฑ ูุซุจุช! ูุฑุฌู ุชุซุจูุช Python ุฃููุงู
    echo.
    echo ๐ฅ ููููู ุชุญููู Python ูู: https://python.org
    echo ๐ก ุชุฃูุฏ ูู ุชุญุฏูุฏ "Add Python to PATH" ุฃุซูุงุก ุงูุชุซุจูุช
    echo.
    pause
    exit /b 1
)

for /f "tokens=2" %%i in ('python --version 2^>^&1') do set PYTHON_VERSION=%%i
echo โ Python %PYTHON_VERSION% ูุชููุฑ
echo.

echo [2/5] ุชุซุจูุช ุงููุชุทูุจุงุช...
pip install -r requirements.txt --quiet --disable-pip-version-check
if errorlevel 1 (
    echo โ ูุดู ูู ุชุซุจูุช ุงููุชุทูุจุงุช
    echo ๐ก ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช ูุญุงูู ูุฑุฉ ุฃุฎุฑู
    pause
    exit /b 1
)

echo โ ุชู ุชุซุจูุช ุงููุชุทูุจุงุช ุจูุฌุงุญ
echo.

echo [3/5] ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช...
python -c "from database import DatabaseManager; db = DatabaseManager(); print('โ ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช')"
if errorlevel 1 (
    echo โ ูุดู ูู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
    pause
    exit /b 1
)

echo.

echo [4/5] ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ...
set /p ADD_SAMPLE=ูู ุชุฑูุฏ ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉุ (y/n): 
if /i "%ADD_SAMPLE%"=="y" (
    python ุฅุถุงูุฉ_ุจูุงูุงุช_ุชุฌุฑูุจูุฉ.py
    if errorlevel 1 (
        echo โ๏ธ  ุชุญุฐูุฑ: ูุดู ูู ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
        echo ๐ก ููููู ุงููุชุงุจุนุฉ ุจุฏูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
    )
) else (
    echo โญ๏ธ  ุชู ุชุฎุทู ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
)

echo.

echo [5/5] ุชุดุบูู ุงููุธุงู...
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                        ๐ ุงููุธุงู ูุนูู ุงูุขู                        โ
echo โ                                                              โ
echo โ  ๐ ุงูุฑุงุจุท: http://localhost:5000                           โ
echo โ  ๐ ุฃู:     http://127.0.0.1:5000                           โ
echo โ                                                              โ
echo โ  ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู:                                      โ
echo โ     ๐ค ุงุณู ุงููุณุชุฎุฏู: admin                                   โ
echo โ     ๐ง ุฃู ุงูุจุฑูุฏ: admin@rashid.com                          โ
echo โ     ๐ ูููุฉ ุงููุฑูุฑ: admin123                                 โ
echo โ                                                              โ
echo โ  โ๏ธ  ูุฅููุงู ุงููุธุงู ุงุถุบุท Ctrl+C                              โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

echo ๐ ุจุฏุก ุชุดุบูู ุงูุฎุงุฏู...
echo.

python app.py

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                       ุชู ุฅููุงู ุงููุธุงู                          โ
echo โ                                                              โ
echo โ  ุดูุฑุงู ูุงุณุชุฎุฏุงู ูุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ุงููุชุนุฏุฏ ุงูุดุงุดุงุช              โ
echo โ                RASHID INDUSTRIAL CO.                        โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
pause