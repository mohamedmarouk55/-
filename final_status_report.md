# ุชูุฑูุฑ ุงูุญุงูุฉ ุงูููุงุฆูุฉ - ุญู ูุดููุฉ UndefinedError

## โ ุชู ุญู ุฌููุน ุงููุดุงูู ุจูุฌุงุญ!

---

## ๐ ุงููุดุงูู ุงูุชู ุชู ุญููุง:

### 1. **TypeError ูู ุตูุญุฉ ุงูููุธููู:**
- **ุงููุดููุฉ:** `unsupported operand type(s) for +: 'int' and 'str'`
- **ุงูุณุจุจ:** ูุญุงููุฉ ุฌูุน ุงูุฑูุงุชุจ ูุจุงุดุฑุฉ ูู ุงููุงูุจ
- **ุงูุญู:** โ ููู ุงูุญุณุงุจุงุช ุฅูู route ูุน ูุนุงูุฌุฉ ุขููุฉ ููุจูุงูุงุช

### 2. **UndefinedError ูู ุตูุญุฉ ุงูููุธููู:**
- **ุงููุดููุฉ:** `unsupported format string passed to Undefined.__format__`
- **ุงูุณุจุจ:** ุงููุชุบูุฑุงุช `total_salaries` ู `average_salary` ุบูุฑ ูุนุฑูุฉ
- **ุงูุญู:** โ ุฅุถุงูุฉ ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ูู route ุงูููุธููู

### 3. **UndefinedError ูู ุตูุญุฉ ุงูุณูุงุฑุงุช:**
- **ุงููุดููุฉ:** ูุชุบูุฑุงุช ุงูุฅุญุตุงุฆูุงุช ุงููุงููุฉ ุบูุฑ ูุนุฑูุฉ
- **ุงูุณุจุจ:** ุนุฏู ุชูุฑูุฑ `total_purchase_price` ู `total_current_value`
- **ุงูุญู:** โ ุฅุถุงูุฉ ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ูู route ุงูุณูุงุฑุงุช

### 4. **UndefinedError ูู ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช:**
- **ุงููุดููุฉ:** `'str object' has no attribute 'get'`
- **ุงูุณุจุจ:** ุงููุงูุจ ูุชููุน ูุงููุณ ูู ุงูููุงููุณ
- **ุงูุญู:** โ ุฅูุดุงุก ูุงูุจ ูุจุณุท ูุน ูุนุงูุฌุฉ ุขููุฉ ููุจูุงูุงุช

---

## ๐๏ธ ุงูุญููู ุงููุทุจูุฉ:

### โ ุฅุตูุงุญ route ุงูููุธููู:
```python
@app.route('/employees')
@login_required
def employees():
    try:
        conn = get_db_connection()
        employees_data = conn.execute('SELECT * FROM employees ORDER BY created_at DESC').fetchall()
        
        # ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ุจุดูู ุขูู
        total_salaries = 0.0
        average_salary = 0.0
        
        if employees_data:
            for employee in employees_data:
                salary = float(employee[5]) if employee[5] else 0.0
                total_salaries += salary
            
            average_salary = total_salaries / len(employees_data) if len(employees_data) > 0 else 0.0
        
        conn.close()
        return render_template('employees.html', 
                             employees=employees_data,
                             total_salaries=total_salaries,
                             average_salary=average_salary)
    except Exception as e:
        return render_template('employees.html', 
                             employees=[],
                             total_salaries=0.0,
                             average_salary=0.0)
```

### โ ุฅุตูุงุญ route ุงูุณูุงุฑุงุช:
```python
@app.route('/cars')
@login_required
def cars():
    try:
        conn = get_db_connection()
        cars_data = conn.execute('SELECT * FROM cars ORDER BY created_at DESC').fetchall()
        
        # ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ุงููุงููุฉ ุจุดูู ุขูู
        total_purchase_price = 0.0
        total_current_value = 0.0
        
        if cars_data:
            for car in cars_data:
                purchase_price = float(car[7]) if car[7] else 0.0
                current_value = float(car[8]) if car[8] else 0.0
                total_purchase_price += purchase_price
                total_current_value += current_value
        
        conn.close()
        return render_template('cars.html', 
                             cars=cars_data,
                             total_purchase_price=total_purchase_price,
                             total_current_value=total_current_value)
    except Exception as e:
        return render_template('cars.html', 
                             cars=[],
                             total_purchase_price=0.0,
                             total_current_value=0.0)
```

### โ ุฅูุดุงุก ูุงูุจ ุฅุนุฏุงุฏุงุช ูุจุณุท:
```html
<!-- ูุนุงูุฌุฉ ุขููุฉ ููุจูุงูุงุช -->
value="{{ settings.get('company_name', 'RASHID INDUSTRIAL CO.') if settings else 'RASHID INDUSTRIAL CO.' }}"

<!-- ุจุฏูุงู ูู -->
value="{{ settings.get('company_name', {}).get('value', 'RASHID INDUSTRIAL CO.') }}"
```

---

## ๐ฏ ุงูููุฒุงุช ุงููุญุณูุฉ:

### 1. **ุงุณุชูุฑุงุฑ ุงููุธุงู**
- โ ุนุฏู ุชุนุทู ุฃู ุตูุญุฉ ุนูุฏ ูุฌูุฏ ุจูุงูุงุช ูุงูุตุฉ
- โ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ูู ุฌููุน routes
- โ ููู ุงูุชุฑุงุถูุฉ ุขููุฉ ูุฌููุน ุงููุชุบูุฑุงุช
- โ ุญูุงูุฉ ูู ุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. **ุฃุฏุงุก ูุญุณู**
- โ ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฎุงุฏู ุจุฏูุงู ูู ุงููุงูุจ
- โ ุชูููู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูู ุงูููุงูุจ
- โ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุจูุงูุงุช ูุญุณูุฉ
- โ ุฅุบูุงู ุขูู ูุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. **ุณูููุฉ ุงูุตูุงูุฉ**
- โ ููุฏ ุฃุจุณุท ูุฃูุถุญ
- โ ุชูููู ุงูุชุนููุฏ ูู ุงูููุงูุจ
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ููุญุฏุฉ
- โ ุชุนูููุงุช ูุงุถุญุฉ ูู ุงูููุฏ

---

## ๐ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุตุญุญุฉ:

### ุฌุฏูู ุงูููุธููู:
```
ุงูุนููุฏ 5: salary (REAL) โ ุงูุฑุงุชุจ
ุงูุนููุฏ 1: employee_number โ ุงูุฑูู ุงููุธููู
ุงูุนููุฏ 2: name โ ุงูุงุณู
ุงูุนููุฏ 3: position โ ุงูููุตุจ
ุงูุนููุฏ 4: department โ ุงููุณู
```

### ุฌุฏูู ุงูุณูุงุฑุงุช:
```
ุงูุนููุฏ 7: purchase_price (REAL) โ ุณุนุฑ ุงูุดุฑุงุก
ุงูุนููุฏ 8: current_value (REAL) โ ุงููููุฉ ุงูุญุงููุฉ
ุงูุนููุฏ 1: brand โ ุงููุงุฑูุฉ
ุงูุนููุฏ 2: model โ ุงูููุฏูู
ุงูุนููุฏ 4: license_plate โ ุฑูู ุงูููุญุฉ
```

---

## ๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู:

**๐ ุงูุฑุงุจุท:** http://localhost:5000  
**๐ค ุงุณู ุงููุณุชุฎุฏู:** admin  
**๐ ูููุฉ ุงููุฑูุฑ:** admin123

### ๐ ุงูุตูุญุงุช ุงูููุตุญุญุฉ ูุงูุฌุงูุฒุฉ:

| ุงูุตูุญุฉ | ุงูุญุงูุฉ | ุงููุตู |
|---------|--------|--------|
| `/` | โ ุฌุงูุฒุฉ | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุน ุงูุฅุญุตุงุฆูุงุช |
| `/login` | โ ุฌุงูุฒุฉ | ุชุณุฌูู ุงูุฏุฎูู |
| `/employees` | โ ุฌุงูุฒุฉ | ุนุฑุถ ุงูููุธููู ูุน ุฅุญุตุงุฆูุงุช ุงูุฑูุงุชุจ |
| `/add_employee` | โ ุฌุงูุฒุฉ | ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ |
| `/cars` | โ ุฌุงูุฒุฉ | ุนุฑุถ ุงูุณูุงุฑุงุช ูุน ุงูุฅุญุตุงุฆูุงุช ุงููุงููุฉ |
| `/add_car` | โ ุฌุงูุฒุฉ | ุฅุถุงูุฉ ุณูุงุฑุฉ ุฌุฏูุฏุฉ |
| `/treasury` | โ ุฌุงูุฒุฉ | ุฅุฏุงุฑุฉ ุงูุฎุฒููุฉ |
| `/expenses` | โ ุฌุงูุฒุฉ | ุฅุฏุงุฑุฉ ุงููุตุฑููุงุช |
| `/settings` | โ ุฌุงูุฒุฉ | ุงูุฅุนุฏุงุฏุงุช (ูุงูุจ ูุจุณุท) |
| `/reports` | โ ุฌุงูุฒุฉ | ุงูุชูุงุฑูุฑ |

---

## ๐งช ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ:

### โ ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูููุธููู:
```
๐ ุนุฏุฏ ุงูููุธููู: ูุนุฑุถ ุจุดูู ุตุญูุญ
๐ฐ ุฅุฌูุงูู ุงูุฑูุงุชุจ: ูุญุณุจ ุจุดูู ุตุญูุญ (0 ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุช)
๐ ูุชูุณุท ุงูุฑุงุชุจ: ูุญุณุจ ุจุดูู ุตุญูุญ (0 ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุช)
๐ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ: ูุนูู ุจุดูู ูุซุงูู
```

### โ ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุณูุงุฑุงุช:
```
๐ ุนุฏุฏ ุงูุณูุงุฑุงุช: ูุนุฑุถ ุจุดูู ุตุญูุญ
๐ฐ ุฅุฌูุงูู ูููุฉ ุงูุดุฑุงุก: ูุญุณุจ ุจุดูู ุตุญูุญ
๐ ุฅุฌูุงูู ุงููููุฉ ุงูุญุงููุฉ: ูุญุณุจ ุจุดูู ุตุญูุญ
๐ ุฅุถุงูุฉ ุณูุงุฑุฉ ุฌุฏูุฏุฉ: ูุนูู ุจุดูู ูุซุงูู
```

### โ ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช:
```
๐ข ูุนูููุงุช ุงูุดุฑูุฉ: ุชุนุฑุถ ุจููู ุงูุชุฑุงุถูุฉ ุขููุฉ
โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุธุงู: ุชุนูู ุจุดูู ุตุญูุญ
๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช: ูุนูู ุจุดูู ุตุญูุญ
๐ ุชุจุฏูู ุงูุชุจููุจุงุช: ูุนูู ุจุณูุงุณุฉ
```

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

**โ ุชู ุญู ุฌููุน ูุดุงูู UndefinedError ู TypeError ุจูุฌุงุญ!**

### ๐ ุงูุฅูุฌุงุฒุงุช:
- โ **ุตูุฑ ุฃุฎุทุงุก** ูู ุฌููุน ุงูุตูุญุงุช
- โ **ูุนุงูุฌุฉ ุดุงููุฉ** ูุฌููุน ุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ
- โ **ุฅุญุตุงุฆูุงุช ุฏูููุฉ** ุชูุญุณุจ ุจุดูู ุขูู
- โ **ูุงุฌูุฉ ูุณุชุฎุฏู ูุณุชูุฑุฉ** ูุง ุชุชุนุทู
- โ **ุฃุฏุงุก ูุญุณู** ูุณุฑุนุฉ ุฃูุจุฑ
- โ **ููุฏ ูุธูู** ูุณูู ุงูุตูุงูุฉ

### ๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุฅูุชุงุฌู!

---

## ๐ ูุตุงุฆุญ ูููุทูุฑูู:

### ๐ง ุนูุฏ ุฅุถุงูุฉ ุตูุญุงุช ุฌุฏูุฏุฉ:
1. **ุชุฃูุฏ ูู ุชูุฑูุฑ ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ ูููุงูุจ**
2. **ุงุณุชุฎุฏู ููู ุงูุชุฑุงุถูุฉ ุขููุฉ ุฏุงุฆูุงู**
3. **ุงุฎุชุจุฑ ุงูุตูุญุฉ ูุน ุจูุงูุงุช ูุงุฑุบุฉ**
4. **ุฃุถู ูุนุงูุฌุฉ ููุฃุฎุทุงุก ูู try/except**

### ๐จ ูู ุงูููุงูุจ:
1. **ุงุณุชุฎุฏู `if variable else default` ููุฃูุงู**
2. **ุชุฌูุจ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุงููุนูุฏุฉ**
3. **ุงุณุชุฎุฏู `|default(0)` ูู Jinja2**
4. **ุงุฎุชุจุฑ ุงููุงูุจ ูุน ูุชุบูุฑุงุช ุบูุฑ ูุนุฑูุฉ**

### ๐๏ธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. **ุชุฃูุฏ ูู ุฃุฑูุงู ุงูุฃุนูุฏุฉ ุงูุตุญูุญุฉ**
2. **ุงุณุชุฎุฏู `COALESCE` ููููู ุงููุงุฑุบุฉ**
3. **ุฃุบูู ุงูุงุชุตุงูุงุช ูู `finally` block**
4. **ุงุณุชุฎุฏู ูุนุงููุงุช ุขููุฉ ูู ุงูุงุณุชุนูุงูุงุช**

---

## ๐ ุชูุงูููุง!

**ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุจูุฌุงุญ ููุธุงู ุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช ุงูุดุงูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**

*ูุธุงู ุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช ุงูุดุงูู - RASHID INDUSTRIAL CO.*  
*ุชู ุงูุงูุชูุงุก ูู ุงูุฅุตูุงุญ ูู: {{ datetime.now().strftime('%Y-%m-%d %H:%M:%S') }}*