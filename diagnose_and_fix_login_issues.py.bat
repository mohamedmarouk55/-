@echo off
chcp 65001 > nul
title ุชุดุฎูุต ูุญู ูุดุงูู ุชุณุฌูู ุงูุฏุฎูู

color 0E
cls
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ              ๐ง ุชุดุฎูุต ุดุงูู ูุชุณุฌูู ุงูุฏุฎูู                     โ
echo โ                                                              โ
echo โ         ุญู ุฌููุน ูุดุงูู ุงูุงูุชูุงู ูููุงุฌูุฉ ุงูุฑุฆูุณูุฉ              โ
echo โ                                                              โ
echo โ              RASHID INDUSTRIAL CO.                          โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

cd /d "%~dp0"

echo ๐ ุฅููุงู ุฌููุน ุงูุนูููุงุช ุงูุณุงุจูุฉ...
taskkill /f /im python.exe >nul 2>&1
taskkill /f /im py.exe >nul 2>&1
timeout /t 2 /nobreak >nul

echo ๐งน ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ...
del /q "diagnostic_system.db" >nul 2>&1
del /q "simple_system.db" >nul 2>&1
rmdir /s /q "__pycache__" >nul 2>&1

echo ๐ ุงูุจุญุซ ุนู Python...
set PYTHON_CMD=
py --version >nul 2>&1 && set PYTHON_CMD=py && goto :run_diagnostic
python --version >nul 2>&1 && set PYTHON_CMD=python && goto :run_diagnostic
python3 --version >nul 2>&1 && set PYTHON_CMD=python3 && goto :run_diagnostic

echo โ Python ุบูุฑ ููุฌูุฏ!
echo.
echo ๐ฅ ูุฑุฌู ุชุซุจูุช Python ูู: https://python.org
pause
exit /b 1

:run_diagnostic
echo โ Python: %PYTHON_CMD%

echo ๐ฆ ุชุซุจูุช Flask ุฅุฐุง ูู ููู ููุฌูุฏุงู...
%PYTHON_CMD% -c "import flask" >nul 2>&1
if errorlevel 1 (
    echo ๐ฅ ุชุซุจูุช Flask...
    %PYTHON_CMD% -m pip install flask --user --quiet
    echo โ ุชู ุชุซุจูุช Flask
) else (
    echo โ Flask ูุชููุฑ
)

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                ๐ง ุชุดุบูู ุงูุชุดุฎูุต ุงูุดุงูู                       โ
echo โ                                                              โ
echo โ  ๐ ุชุดุฎูุต ูุดุงูู ุชุณุฌูู ุงูุฏุฎูู                               โ
echo โ  ๐ง ุญู ูุดุงูู ุงูุงูุชูุงู ูููุงุฌูุฉ ุงูุฑุฆูุณูุฉ                      โ
echo โ  ๐ ุนุฑุถ ูุนูููุงุช ุชูุตูููุฉ ุนู ุงูุฃุฎุทุงุก                         โ
echo โ                                                              โ
echo โ  ๐ http://localhost:5000                                    โ
echo โ  ๐ admin / admin123                                         โ
echo โ                                                              โ
echo โ  ๐ ุงููุชุตูุญ ุณููุชุญ ุชููุงุฆูุงู ุฎูุงู 3 ุซูุงู                       โ
echo โ  ๐ ุฑุงูุจ ุงูุฑุณุงุฆู ุงูุชุดุฎูุตูุฉ ูู ูุฐู ุงููุงูุฐุฉ                   โ
echo โ  โ๏ธ  ูุฅููุงู ุงููุธุงู: ุงุถุบุท Ctrl+C                             โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

echo ๐ ุชุดุบูู ูุธุงู ุงูุชุดุฎูุต ุงูุดุงูู...
echo.
echo โโโโโโโโโโโโโโโ ุฑุณุงุฆู ุงูุชุดุฎูุต โโโโโโโโโโโโโโโ
%PYTHON_CMD% ุชุดุฎูุต_ุชุณุฌูู_ุงูุฏุฎูู_ุดุงูู.py

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                    ุชู ุฅููุงู ุงูุชุดุฎูุต                         โ
echo โ                                                              โ
echo โ  ๐ ุชู ุชุดุฎูุต ุฌููุน ูุดุงูู ุชุณุฌูู ุงูุฏุฎูู                       โ
echo โ  ๐ ุงูุฑุงุจุท: http://localhost:5000                           โ
echo โ  ๐ ุงูุจูุงูุงุช: admin / admin123                              โ
echo โ                                                              โ
echo โ  ๐ก ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงูู:                                     โ
echo โ     โข ุชุญูู ูู ุฑุณุงุฆู ุงูุชุดุฎูุต ุฃุนูุงู                          โ
echo โ     โข ุงูุณุญ ููููุฒ ุงููุชุตูุญ                                    โ
echo โ     โข ุฌุฑุจ ูุชุตูุญ ุขุฎุฑ                                         โ
echo โ     โข ุงุณุชุฎุฏู ูุถุน ุงูุชุตูุญ ุงูุฎุงุต                              โ
echo โ                                                              โ
echo โ                RASHID INDUSTRIAL CO.                        โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
pause